{"version":3,"file":"static/webpack/static/development/pages/avatar.js.03fadd2e7350732f5c08.hot-update.js","sources":["webpack:///./pages/avatar.js"],"sourcesContent":["import React from \"react\";\nimport NProgress from \"nprogress\";\nimport styled from \"styled-components\";\n\nimport MuffynLogoSvg from \"../components/MuffynLogoSvg\";\nimport Title from \"../components/Title\";\nimport Button from \"../components/Button\";\nimport LittlePoint from \"../components/LittlePoint\";\n\nconst Container = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  text-align: center;\n  img {\n    max-width: 300px;\n  }\n`;\n\nconst StyledP = styled.p`\n  line-height: 1.4em;\n  margin-bottom: 3em;\n  max-width: 300px;\n`;\n\nconst FileInput = styled.input`\n  height: 0;\n  overflow: hidden;\n  width: 0;\n`;\n\nconst FileInputLabel = styled.label`\n  border: 2px solid white;\n  border-radius: 2px;\n  color: white;\n  cursor: pointer;\n  display: inline-block;\n  font-size: 0.8em;\n  letter-spacing: 0.09em;\n  outline: none;\n  padding: 1em 1.4em 1em 1.6em;\n  text-decoration: none;\n  text-transform: uppercase;\n  transition: all 0.2s;\n  &:hover {\n    box-shadow: inset 0 0 0 3px white;\n  }\n`;\n\nconst UploadForm = props => (\n  <form\n    onSubmit={async e => {\n      e.preventDefault();\n    }}\n  >\n    <FileInput\n      type=\"file\"\n      id=\"file\"\n      name=\"file\"\n      required\n      onChange={props.processAvatar}\n    />\n    <FileInputLabel htmlFor=\"file\">\n      Select A Photo <LittlePoint />\n    </FileInputLabel>\n  </form>\n);\n\nconst CtaFooter = props => (\n  <footer style={{ marginTop: \"1em\" }}>\n    <Button text=\"Create Another Avatar\" onClick={props.clearUpload} />\n    <Button text=\"Festival Home\" url=\"/\" />\n  </footer>\n);\n\nclass CreateAvatarPage extends React.Component {\n  state = {\n    image: null\n  };\n\n  processAvatar = async e => {\n    NProgress.start();\n    const files = e.target.files;\n    const data = new FormData();\n    data.append(\"file\", files[0]);\n    data.append(\"upload_preset\", \"muffyn-avatar-overlay\");\n\n    const res = await fetch(\n      \"https://api.cloudinary.com/v1_1/bronycon/image/upload\",\n      {\n        method: \"POST\",\n        body: data\n      }\n    );\n    const file = await res.json();\n    this.setState(\n      {\n        image: file.secure_url\n      },\n      () => NProgress.done()\n    );\n  };\n\n  clearUpload = () => {\n    this.setState({\n      image: false\n    });\n  };\n\n  render() {\n    return (\n      <Container>\n        <Title>Avatar Creater</Title>\n        <StyledP>\n          Spread the muffin by adding one to your social media avatar.\n        </StyledP>\n        {!this.state.image && <UploadForm processAvatar={this.processAvatar} />}\n        {this.state.image && <img src={this.state.image} />}\n        {this.state.image && <CtaFooter clearUpload={this.clearUpload} />}\n      </Container>\n    );\n  }\n}\n\nexport default CreateAvatarPage;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AACA;AAiBA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA;AACA;AAkBA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AACA;AAMA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;;;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAUA;AACA;AAFA;AACA;AAVA;AAOA;AAPA;AAAA;AACA;AADA;AAcA;AACA;AAAA;AAEA;AADA;AAGA;AAAA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;AAsBA;AACA;AACA;AADA;AAGA;AACA;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA9CA;AACA;AAgDA;;;;A","sourceRoot":""}